---
title: "Netflixé¢¨UIã‚’ã¤ãã£ã¦ã¦ã¿ãŸ"
emoji: "ğŸ“±"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: []
published: false
---

## å®Œæˆå›³
<img src="/articles/fig/LikeNetflixUI.png" alt="Netflixé¢¨ã®UIã‚’è¡¨ç¤ºã—ã¦ã„ã‚‹" width="200"/>

(ç„¼ãé­šãŒå¤§é‡ç™ºç”Ÿã—ã¦ã„ã¾ã™ã€ã€æ€ æƒ°)

## é–‹ç™ºç’°å¢ƒ

##ã€€ã‚³ãƒ¼ãƒ‰
### Modelã®å®šç¾©
```swift:Recipe.swift
struct Recipe: Identifiable {
  let id: Int
  let name: String
  let image: String
  let description: String
  
  init(id: Int, name: String, image: String, description: String) {
    self.id = id
    self.name = name
    self.image = image
    self.description = description
  }
}
```

### ViewModelã®å®šç¾©
```swift:RecipeViewModel
import SwiftUI

class RecipeViewModel: ObservableObject {
  @Published private(set) var categories = [
    "å®šç•ªã®ãƒ¬ã‚·ãƒ”",
    "ãŠé…’ã®ãŠã¤ã¾ã¿",
    "æ¬¡ãªã‚‹ãŸã“ãƒ‘",
    "å¤é‡èœã‚’ä½¿ã£ãŸãƒ¬ã‚·ãƒ”"
  ]
  @Published private(set) var teibanRecipes = [
    Recipe(id: 1, name: "è‚‰ã˜ã‚ƒãŒ", image: "nikujaga", description: "ã“ã‚Œã¯è‚‰ã˜ã‚ƒãŒã§ã™"),
    Recipe(id: 2, name: "è¦ªå­ä¸¼", image: "oyakodon", description: "ã“ã‚Œã¯è¦ªå­ä¸¼ã§ã™"),
    Recipe(id: 3, name: "ãƒãƒ³ãƒãƒ¼ã‚°", image: "hamberg", description: "ã“ã‚Œã¯ãƒãƒ³ãƒãƒ¼ã‚°ã§ã™"),
    Recipe(id: 4, name: "ç…§ã‚Šç„¼ããƒã‚­ãƒ³", image: "teriyaki-chiken", description: "ã“ã‚Œã¯è¦ªå­ä¸¼ã§ã™"),
    Recipe(id: 5, name: "ã‚«ãƒ¬ãƒ¼ãƒ©ã‚¤ã‚¹", image: "carry-rice", description: "ã“ã‚Œã¯ã‚«ãƒ¬ãƒ¼ãƒ©ã‚¤ã‚¹ã§ã™")
  ]
  @Published var tumamiRecipes = [
    Recipe(id: 6, name: "ç„¼ãé­š", image: "yakisakana", description: "ã“ã‚Œã¯ç„¼ãé­šã§ã™"),
    Recipe(id: 7, name: "ç„¼ãé­š", image: "yakisakana", description: "ã“ã‚Œã¯ç„¼ãé­šã§ã™"),
    Recipe(id: 8, name: "ç„¼ãé­š", image: "yakisakana", description: "ã“ã‚Œã¯ç„¼ãé­šã§ã™"),
    Recipe(id: 9, name: "ç„¼ãé­š", image: "yakisakana", description: "ã“ã‚Œã¯ç„¼ãé­šã§ã™"),
    Recipe(id: 10, name: "ç„¼ãé­š", image: "yakisakana", description: "ã“ã‚Œã¯ç„¼ãé­šã§ã™")
  ]
  @Published var nextTacopaRecipes = [
    Recipe(id: 11, name: "ç„¼ãé­š", image: "yakisakana", description: "ã“ã‚Œã¯ç„¼ãé­šã§ã™"),
    Recipe(id: 12, name: "ç„¼ãé­š", image: "yakisakana", description: "ã“ã‚Œã¯ç„¼ãé­šã§ã™"),
    Recipe(id: 13, name: "ç„¼ãé­š", image: "yakisakana", description: "ã“ã‚Œã¯ç„¼ãé­šã§ã™"),
    Recipe(id: 14, name: "ç„¼ãé­š", image: "yakisakana", description: "ã“ã‚Œã¯ç„¼ãé­šã§ã™"),
    Recipe(id: 15, name: "ç„¼ãé­š", image: "yakisakana", description: "ã“ã‚Œã¯ç„¼ãé­šã§ã™")
  ]
  @Published var natsuyasaiRecipes = [
    Recipe(id: 16, name: "ç„¼ãé­š", image: "yakisakana", description: "ã“ã‚Œã¯ç„¼ãé­šã§ã™"),
    Recipe(id: 17, name: "ç„¼ãé­š", image: "yakisakana", description: "ã“ã‚Œã¯ç„¼ãé­šã§ã™"),
    Recipe(id: 18, name: "ç„¼ãé­š", image: "yakisakana", description: "ã“ã‚Œã¯ç„¼ãé­šã§ã™"),
    Recipe(id: 19, name: "ç„¼ãé­š", image: "yakisakana", description: "ã“ã‚Œã¯ç„¼ãé­šã§ã™"),
    Recipe(id: 20, name: "ç„¼ãé­š", image: "yakisakana", description: "ã“ã‚Œã¯ç„¼ãé­šã§ã™")
  ]
  
//  ã‚«ãƒ†ã‚´ãƒªãƒ¼ã«ç´ã¥ããƒ¬ã‚·ãƒ”ã‚’è¡¨ç¤ºã™ã‚‹
  func recipes(for category: String) -> [Recipe] {
    switch category {
    case categories[0]:
      return teibanRecipes
    case categories[1]:
      return tumamiRecipes
    case categories[2]:
      return nextTacopaRecipes
    case categories[3]:
      return natsuyasaiRecipes
    default :
      return []
    }
  }
  
//  é…åˆ—ã®ä¸­èº«ãŒ5å€‹ä»¥ä¸Šãªã‘ã‚Œã°ã€comming soonã¨è¡¨ç¤ºã™ã‚‹
  func shouldShowComingSoon(for category: String) -> Bool {
    let shouldShowCommingSoonRecipes = self.recipes(for: category)
    return shouldShowCommingSoonRecipes.count < 5
  }
  
  func refreshRecipes() {
    teibanRecipes.shuffle()
    tumamiRecipes.shuffle()
    nextTacopaRecipes.shuffle()
    natsuyasaiRecipes.shuffle()
  }
  
}
```

### Viewã®å®šç¾©
```swift:MainView.swift
import SwiftUI

struct MainView: View {
  @StateObject private var viewModel = RecipeViewModel()
  
  var body: some View {
    NavigationView {
      ScrollView(.vertical, showsIndicators: false) {
        VStack(alignment: .leading) {
          ForEach(viewModel.categories, id: \.self) { category in
            VStack(alignment: .leading) {
              Text(category)
                .font(.title)
                .padding([.leading, .top])
              ScrollView(.horizontal, showsIndicators: false) {
                HStack(spacing: 20) {
                  if viewModel.shouldShowComingSoon(for: category) {
                    VStack{
                      Text("ComingSoon!")
                        .font(.title3)
                    }
                  } else {
                    ForEach(viewModel.recipes(for: category)) { recipe in
                      VStack {
                        NavigationLink(destination: RecipeDetailView(recipe: recipe)) {
                          Image(recipe.image)
                            .resizable()
                            .scaledToFit()
                            .frame(width: 150, height: 150)
                            .background(Color.gray)
                            .cornerRadius(10)
                        }
                        Text(recipe.name)
                          .font(.caption)
                      }
                    }
                  }
                }
              }
              .padding([.leading, .bottom])
            }
          }
        }
      }
      // å„ã‚«ãƒ†ã‚´ãƒªãƒ¼ã®ãƒ¬ã‚·ãƒ”ã‚’æ›´æ–°ã™ã‚‹(ã¨ã„ã£ã¦ã‚‚ã€é †ç•ªãŒå¤‰ã‚ã‚‹ã ã‘)
      .refreshable {
        viewModel.refreshRecipes()
      }
      .navigationTitle("ãƒ¬ã‚·ãƒ”")
    }
  }
}
#Preview {
  MainView()
}
```
## ã¾ã¨ã‚
Netflixã§ãƒˆãƒ¼ã‚¯ã‚µãƒã‚¤ãƒãƒ¼ã‚’è¦³ã‚ˆã†ã¨ã—ã¦ã„ãŸã®ã§ã™ãŒã€
ä½•æ°—ãªãNetflixã®UIã‚’å†ç¾ã—ã¦ã¿ãŸã„ãªã€œã¨æ€ã„ã€ç°¡å˜ã«å†ç¾ã—ã¦ã¿ã¾ã—ãŸï¼
â€»ãƒ¬ã‚·ãƒ”ã‚¢ãƒ—ãƒªã«ã—ãŸã®ã¯Netflixã®ã‚ˆã†ã«ç”»åƒã§ã€Œã¤ãã‚ŠãŸã„ã€æ¬²ã‚’å¼•ãå‡ºã›ãŸã‚‰ã„ã„ãªã¨æ€ã£ãŸãŸã‚ã§ã™ã€‚

UIã‚’ã¤ãã£ãŸã“ã¨ã«æº€è¶³ã—ã¦ã€ãƒˆãƒ¼ã‚¯ã‚µãƒã‚¤ãƒãƒ¼ã¯å…¨ãè¦³ã¦ã„ã¾ã›ã‚“w
SwiftUIã‚’è§¦ã£ã¦ã„ã‚‹ã¨æ™‚é–“ãŒæº¶ã‘ã¦ã—ã¾ã„ã¾ã™ã€‚ã€‚ãŸã®ã—ã„ï¼